"use strict";(globalThis.webpackChunkpro_8=globalThis.webpackChunkpro_8||[]).push([[4074],{3296(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"devs/manual-usuario/Tareas-Programadas","title":"Tareas Programadas del Facturador Electr\xf3nico - Core II","description":"Website: facturaloperu.com","source":"@site/docs/devs/manual-usuario/2-Tareas-Programadas.md","sourceDirName":"devs/manual-usuario","slug":"/devs/manual-usuario/Tareas-Programadas","permalink":"/devs/manual-usuario/Tareas-Programadas","draft":false,"unlisted":false,"editUrl":"https://github.com/zjceo/pro8/tree/main/docs/devs/manual-usuario/2-Tareas-Programadas.md","tags":[],"version":"current","lastUpdatedBy":"zjceo","lastUpdatedAt":1766108651000,"sidebarPosition":2,"frontMatter":{},"sidebar":"defaultSidebar","previous":{"title":"Manual de Usuario","permalink":"/manual-de-usuario"},"next":{"title":"Cambio de Entorno - FacturaloPeru","permalink":"/devs/manual-usuario/Cambio-de-Entorno"}}');var a=s(74848),d=s(28453);const i={},o="Tareas Programadas del Facturador Electr\xf3nico - Core II",c={},l=[{value:"Descripci\xf3n",id:"descripci\xf3n",level:2},{value:"Tareas Programadas",id:"tareas-programadas",level:3},{value:"Detalles de las Tareas",id:"detalles-de-las-tareas",level:2},{value:"QueryAllServerCommand",id:"queryallservercommand",level:3},{value:"SendAllServerCommand",id:"sendallservercommand",level:3},{value:"SendAllSunatCommand",id:"sendallsunatcommand",level:3},{value:"SummaryQueryCommand",id:"summaryquerycommand",level:3},{value:"SummarySendCommand",id:"summarysendcommand",level:3},{value:"ValidateDocumentsCommand",id:"validatedocumentscommand",level:3}];function t(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"tareas-programadas-del-facturador-electr\xf3nico---core-ii",children:"Tareas Programadas del Facturador Electr\xf3nico - Core II"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Website:"})," ",(0,a.jsx)(n.a,{href:"http://facturaloperu.com",children:"facturaloperu.com"})]}),"\n",(0,a.jsx)(n.h2,{id:"descripci\xf3n",children:"Descripci\xf3n"}),"\n",(0,a.jsx)(n.p,{children:"A continuaci\xf3n se describen cada una de las tareas programadas soportadas por el facturador electr\xf3nico."}),"\n",(0,a.jsx)(n.h3,{id:"tareas-programadas",children:"Tareas Programadas"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"QueryAllServerCommand"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"SendAllServerCommand"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"SendAllSunatCommand (Activo)"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"SummaryQueryCommand (Activo)"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"SummarySendCommand (Activo)"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"ValidateDocumentsCommand"})}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"detalles-de-las-tareas",children:"Detalles de las Tareas"}),"\n",(0,a.jsx)(n.h3,{id:"queryallservercommand",children:"QueryAllServerCommand"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Descripci\xf3n:"}),(0,a.jsx)(n.br,{}),"\n","Consulta todos los documentos en el servidor en l\xednea."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Condiciones:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Servicio offline activo."}),"\n",(0,a.jsx)(n.li,{children:"Estado de documento distinto de Aceptado (05)."}),"\n",(0,a.jsxs)(n.li,{children:["Condici\xf3n t\xe9cnica: ",(0,a.jsx)(n.code,{children:"send_server"})," igual a 1."]}),"\n",(0,a.jsxs)(n.li,{children:["Condici\xf3n t\xe9cnica: ",(0,a.jsx)(n.code,{children:"query_status"})," distinto de null."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Acci\xf3n:"}),(0,a.jsx)(n.br,{}),"\n","Se consultan todos los documentos de la BD obteniendo los que cumplan las condiciones, se obtiene el CDR si el documento se encuentra en estado Aceptado y se actualiza la informaci\xf3n de cada documento, estableciendo el campo ",(0,a.jsx)(n.code,{children:"send_server"})," como null."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Comando Previo:"}),(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.code,{children:"SendAllServerCommand"})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Comando Posterior:"}),(0,a.jsx)(n.br,{}),"\n","Ninguno."]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h3,{id:"sendallservercommand",children:"SendAllServerCommand"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Descripci\xf3n:"}),(0,a.jsx)(n.br,{}),"\n","Procesar todos los documentos pendientes en el servidor en l\xednea."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Condiciones:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Servicio offline activo."}),"\n",(0,a.jsx)(n.li,{children:"Estado de condici\xf3n de resumen igual a Adicionar (1)."}),"\n",(0,a.jsxs)(n.li,{children:["Condici\xf3n t\xe9cnica: ",(0,a.jsx)(n.code,{children:"send_server"})," es igual a 0."]}),"\n",(0,a.jsxs)(n.li,{children:["Condici\xf3n t\xe9cnica: ",(0,a.jsx)(n.code,{children:"shipping_status"})," no est\xe1 vac\xedo."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Acci\xf3n:"}),(0,a.jsx)(n.br,{}),"\n","Recorre los documentos obtenidos, valida el ",(0,a.jsx)(n.code,{children:"external_id"}),", valida que pertenezca al grupo de facturas, env\xeda el documento a Sunat y actualiza ",(0,a.jsx)(n.code,{children:"send_server"})," a 1 del documento."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Comando Previo:"}),(0,a.jsx)(n.br,{}),"\n","Ninguno."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Comando Posterior:"}),(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.code,{children:"QueryAllServerCommand"})]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h3,{id:"sendallsunatcommand",children:"SendAllSunatCommand"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Descripci\xf3n:"}),(0,a.jsx)(n.br,{}),"\n","Procesa todos los documentos pendientes que se enviar\xe1n al Sunat."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Condiciones:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Servicio offline activo."}),"\n",(0,a.jsx)(n.li,{children:"Estado de documento distinto de Aceptado (05)."}),"\n",(0,a.jsx)(n.li,{children:"Pertenece al grupo de Facturas (01)."}),"\n",(0,a.jsxs)(n.li,{children:["Condici\xf3n t\xe9cnica: ",(0,a.jsx)(n.code,{children:"send_server"})," es igual a 0."]}),"\n",(0,a.jsxs)(n.li,{children:["Condici\xf3n t\xe9cnica: ",(0,a.jsx)(n.code,{children:"shipping_status"})," no est\xe1 vac\xedo."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Acci\xf3n:"}),(0,a.jsx)(n.br,{}),"\n","Env\xeda todos los documentos que cumplan las condiciones anteriores a Sunat y actualiza su estado e informaci\xf3n."]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h3,{id:"summaryquerycommand",children:"SummaryQueryCommand"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Descripci\xf3n:"}),(0,a.jsx)(n.br,{}),"\n","Consulta autom\xe1tica de res\xfamenes."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Condiciones:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Estado de documento igual a Registrado (01)."}),"\n",(0,a.jsx)(n.li,{children:"Estado de condici\xf3n de resumen igual a Adicionar (1)."}),"\n",(0,a.jsxs)(n.li,{children:["Condici\xf3n t\xe9cnica: ",(0,a.jsx)(n.code,{children:"soap_type_id"})," activo."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Acci\xf3n:"}),(0,a.jsx)(n.br,{}),"\n","Obtiene los res\xfamenes que cumplan las condiciones, utilizando el ticket para consultarlo en Sunat y obtener CDR, actualiza el estado de los documentos implicados y de los res\xfamenes."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Comando Previo:"}),(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.code,{children:"SummarySendCommand"})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Comando Posterior:"}),(0,a.jsx)(n.br,{}),"\n","Ninguno."]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h3,{id:"summarysendcommand",children:"SummarySendCommand"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Descripci\xf3n:"}),(0,a.jsx)(n.br,{}),"\n","Env\xedo autom\xe1tico de res\xfamenes."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Condiciones:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Estado de documento igual a Registrado (01)."}),"\n",(0,a.jsx)(n.li,{children:"Pertenece al grupo de Boletas (02)."}),"\n",(0,a.jsxs)(n.li,{children:["Condici\xf3n t\xe9cnica: ",(0,a.jsx)(n.code,{children:"soap_type_id"})," activo."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Acci\xf3n:"}),(0,a.jsx)(n.br,{}),"\n","Obtiene los documentos que cumplan las condiciones, los agrupa por su fecha de creaci\xf3n y genera un resumen que es enviado a Sunat, el cual devuelve un c\xf3digo \xfanico por cada resumen (ticket) que debe ser consultado posteriormente."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Comando Previo:"}),(0,a.jsx)(n.br,{}),"\n","Ninguno."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Comando Posterior:"}),(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.code,{children:"SummaryQueryCommand"})]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h3,{id:"validatedocumentscommand",children:"ValidateDocumentsCommand"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Descripci\xf3n:"}),(0,a.jsx)(n.br,{}),"\n","(Debes a\xf1adir una descripci\xf3n para esta tarea)."]}),"\n",(0,a.jsx)(n.hr,{})]})}function u(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(t,{...e})}):t(e)}},28453(e,n,s){s.d(n,{R:()=>i,x:()=>o});var r=s(96540);const a={},d=r.createContext(a);function i(e){const n=r.useContext(d);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),r.createElement(d.Provider,{value:n},e.children)}}}]);