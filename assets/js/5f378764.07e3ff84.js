"use strict";(globalThis.webpackChunkpro_8=globalThis.webpackChunkpro_8||[]).push([[43417],{12743(e,r,i){i.r(r),i.d(r,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"devs/despliegue/seguridad/ssl-instalacion-lamp","title":"Actualizar SSL en Instalaci\xf3n LAMP","description":"Gu\xeda para renovar o actualizar certificados SSL en servidores con instalaci\xf3n LAMP.","source":"@site/docs/devs/despliegue/seguridad/ssl-instalacion-lamp.md","sourceDirName":"devs/despliegue/seguridad","slug":"/devs/despliegue/seguridad/ssl-instalacion-lamp","permalink":"/devs/despliegue/seguridad/ssl-instalacion-lamp","draft":false,"unlisted":false,"editUrl":"https://github.com/zjceo/pro8/tree/main/docs/devs/despliegue/seguridad/ssl-instalacion-lamp.md","tags":[],"version":"current","lastUpdatedBy":"Administrator","lastUpdatedAt":1767038758000,"sidebarPosition":3,"frontMatter":{"title":"Actualizar SSL en Instalaci\xf3n LAMP","description":"Gu\xeda para renovar o actualizar certificados SSL en servidores con instalaci\xf3n LAMP.","sidebar_position":3},"sidebar":"defaultSidebar","previous":{"title":"SSL Automatico","permalink":"/devs/despliegue/seguridad/ssl-cloudflare"},"next":{"title":"Mantenimiento","permalink":"/despliegue/mantenimiento"}}');var a=i(74848),s=i(28453);const c={title:"Actualizar SSL en Instalaci\xf3n LAMP",description:"Gu\xeda para renovar o actualizar certificados SSL en servidores con instalaci\xf3n LAMP.",sidebar_position:3},l="Actualizar SSL en Instalaci\xf3n LAMP",d={},o=[{value:"\ud83d\udccb Pre Requisitos",id:"-pre-requisitos",level:2},{value:"Proceso de Actualizaci\xf3n",id:"proceso-de-actualizaci\xf3n",level:2},{value:"1. Conexi\xf3n al Servidor",id:"1-conexi\xf3n-al-servidor",level:3},{value:"2. Ubicaci\xf3n para Ejecutar el Comando",id:"2-ubicaci\xf3n-para-ejecutar-el-comando",level:3},{value:"3. Generar Certificado SSL",id:"3-generar-certificado-ssl",level:3},{value:"Par\xe1metros a personalizar:",id:"par\xe1metros-a-personalizar",level:4},{value:"4. Verificaci\xf3n DNS",id:"4-verificaci\xf3n-dns",level:3},{value:"5. Reiniciar el Servicio Apache",id:"5-reiniciar-el-servicio-apache",level:3},{value:"6. Verificar la Instalaci\xf3n",id:"6-verificar-la-instalaci\xf3n",level:3},{value:"6.1 Verificar estado de Apache",id:"61-verificar-estado-de-apache",level:4},{value:"6.2 Verificar certificado",id:"62-verificar-certificado",level:4},{value:"6.3 Probar en el navegador",id:"63-probar-en-el-navegador",level:4}];function t(e){const r={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.header,{children:(0,a.jsx)(r.h1,{id:"actualizar-ssl-en-instalaci\xf3n-lamp",children:"Actualizar SSL en Instalaci\xf3n LAMP"})}),"\n",(0,a.jsx)(r.p,{children:"Esta gu\xeda explica c\xf3mo actualizar o renovar certificados SSL en servidores con instalaci\xf3n LAMP (Linux, Apache, MySQL, PHP)."}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.h2,{id:"-pre-requisitos",children:"\ud83d\udccb Pre Requisitos"}),"\n",(0,a.jsx)(r.p,{children:"Antes de comenzar, aseg\xfarate de tener:"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsx)(r.li,{children:"Acceso SSH al servidor"}),"\n",(0,a.jsx)(r.li,{children:"Permisos de superusuario (root)"}),"\n",(0,a.jsx)(r.li,{children:"Certbot instalado en el servidor"}),"\n",(0,a.jsx)(r.li,{children:"Dominio configurado y apuntando al servidor"}),"\n",(0,a.jsx)(r.li,{children:"Puerto 80 y 443 abiertos en el firewall"}),"\n"]}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.h2,{id:"proceso-de-actualizaci\xf3n",children:"Proceso de Actualizaci\xf3n"}),"\n",(0,a.jsx)(r.h3,{id:"1-conexi\xf3n-al-servidor",children:"1. Conexi\xf3n al Servidor"}),"\n",(0,a.jsx)(r.p,{children:"Acceda al servidor mediante SSH y convi\xe9rtase en superusuario:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"ssh usuario@servidor\n"})}),"\n",(0,a.jsx)(r.p,{children:"Utilice el siguiente comando para convertirse en superusuario:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"sudo su\n"})}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.h3,{id:"2-ubicaci\xf3n-para-ejecutar-el-comando",children:"2. Ubicaci\xf3n para Ejecutar el Comando"}),"\n",(0,a.jsxs)(r.blockquote,{children:["\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.strong,{children:"\u26a0\ufe0f Importante:"})," El comando debe ejecutarse ",(0,a.jsx)(r.strong,{children:"fuera de la carpeta del proyecto"}),"."]}),"\n"]}),"\n",(0,a.jsx)(r.p,{children:"Navegue a un directorio seguro, como el home del usuario root:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"cd ~\n"})}),"\n",(0,a.jsx)(r.p,{children:"O al directorio ra\xedz:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"cd /\n"})}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.h3,{id:"3-generar-certificado-ssl",children:"3. Generar Certificado SSL"}),"\n",(0,a.jsx)(r.p,{children:"Ejecute el comando de Certbot para generar el certificado wildcard:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"sudo certbot certonly --manual --preferred-challenges=dns \\\r\n  --email admin@example.com \\\r\n  --server https://acme-v02.api.letsencrypt.org/directory \\\r\n  --agree-tos \\\r\n  -d example.com \\\r\n  -d *.example.com\n"})}),"\n",(0,a.jsx)(r.h4,{id:"par\xe1metros-a-personalizar",children:"Par\xe1metros a personalizar:"}),"\n",(0,a.jsxs)(r.table,{children:[(0,a.jsx)(r.thead,{children:(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.th,{children:"Par\xe1metro"}),(0,a.jsx)(r.th,{children:"Descripci\xf3n"}),(0,a.jsx)(r.th,{children:"Ejemplo"})]})}),(0,a.jsxs)(r.tbody,{children:[(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{children:(0,a.jsx)(r.code,{children:"--email"})}),(0,a.jsx)(r.td,{children:"Correo electr\xf3nico de administrador"}),(0,a.jsx)(r.td,{children:(0,a.jsx)(r.code,{children:"admin@gmail.com"})})]}),(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{children:(0,a.jsx)(r.code,{children:"-d"})}),(0,a.jsx)(r.td,{children:"Dominio principal"}),(0,a.jsx)(r.td,{children:(0,a.jsx)(r.code,{children:"tudominio.com"})})]}),(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{children:(0,a.jsx)(r.code,{children:"-d *"})}),(0,a.jsx)(r.td,{children:"Subdominio wildcard"}),(0,a.jsx)(r.td,{children:(0,a.jsx)(r.code,{children:"*.tudominio.com"})})]})]})]}),"\n",(0,a.jsx)(r.p,{children:(0,a.jsx)(r.strong,{children:"Ejemplo completo:"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"sudo certbot certonly --manual --preferred-challenges=dns \\\r\n  --email correo@gmail.com \\\r\n  --server https://acme-v02.api.letsencrypt.org/directory \\\r\n  --agree-tos \\\r\n  -d tudominio.com \\\r\n  -d *.tudominio.com\n"})}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.h3,{id:"4-verificaci\xf3n-dns",children:"4. Verificaci\xf3n DNS"}),"\n",(0,a.jsx)(r.p,{children:"Durante el proceso, Certbot solicitar\xe1 que agregue registros TXT en su DNS:"}),"\n",(0,a.jsxs)(r.ol,{children:["\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.strong,{children:"Copie el valor TXT"})," que muestra Certbot"]}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.strong,{children:"Acceda a su proveedor de DNS"})," (Cloudflare, GoDaddy, etc.)"]}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.strong,{children:"Agregue un registro TXT"})," con estos datos:"]}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"Tipo:"})," TXT"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"Nombre:"})," ",(0,a.jsx)(r.code,{children:"_acme-challenge"})]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"Valor:"})," El texto proporcionado por Certbot"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"TTL:"})," 120 (o el m\xednimo permitido)"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.strong,{children:"Espere la propagaci\xf3n DNS"})," (puede tardar 1-5 minutos)"]}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.strong,{children:"Verifique la propagaci\xf3n"})," usando:"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"nslookup -type=TXT _acme-challenge.tudominio.com\n"})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.strong,{children:"Presione Enter en Certbot"})," cuando est\xe9 listo"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(r.blockquote,{children:["\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.strong,{children:"\ud83d\udca1 Tip:"})," Si tiene m\xfaltiples dominios (-d), deber\xe1 crear un registro TXT para cada uno."]}),"\n"]}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.h3,{id:"5-reiniciar-el-servicio-apache",children:"5. Reiniciar el Servicio Apache"}),"\n",(0,a.jsx)(r.p,{children:"Una vez generado el certificado exitosamente, reinicie Apache:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"service apache2 restart\n"})}),"\n",(0,a.jsx)(r.p,{children:"O alternativamente:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"systemctl restart apache2\n"})}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.h3,{id:"6-verificar-la-instalaci\xf3n",children:"6. Verificar la Instalaci\xf3n"}),"\n",(0,a.jsx)(r.h4,{id:"61-verificar-estado-de-apache",children:"6.1 Verificar estado de Apache"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"systemctl status apache2\n"})}),"\n",(0,a.jsxs)(r.p,{children:["Debe mostrar ",(0,a.jsx)(r.code,{children:"active (running)"})," en verde."]}),"\n",(0,a.jsx)(r.h4,{id:"62-verificar-certificado",children:"6.2 Verificar certificado"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"sudo certbot certificates\n"})}),"\n",(0,a.jsx)(r.p,{children:"Este comando mostrar\xe1 todos los certificados instalados, su fecha de expiraci\xf3n y los dominios asociados."}),"\n",(0,a.jsx)(r.h4,{id:"63-probar-en-el-navegador",children:"6.3 Probar en el navegador"}),"\n",(0,a.jsxs)(r.ol,{children:["\n",(0,a.jsxs)(r.li,{children:["Acceda a su dominio usando ",(0,a.jsx)(r.code,{children:"https://"})]}),"\n",(0,a.jsx)(r.li,{children:"Verifique que el candado est\xe9 cerrado"}),"\n",(0,a.jsx)(r.li,{children:"Revise los detalles del certificado (debe mostrar Let's Encrypt)"}),"\n",(0,a.jsx)(r.li,{children:"Confirme la fecha de expiraci\xf3n (90 d\xedas desde la emisi\xf3n)"}),"\n"]}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.p,{children:"_Sistema de Facturaci\xf3n Pro 8"})]})}function h(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(t,{...e})}):t(e)}},28453(e,r,i){i.d(r,{R:()=>c,x:()=>l});var n=i(96540);const a={},s=n.createContext(a);function c(e){const r=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),n.createElement(s.Provider,{value:r},e.children)}}}]);